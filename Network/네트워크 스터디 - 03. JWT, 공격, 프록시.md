## 커넥션 타임아웃과 리드 타임아웃

| 구분     | 커넥션 타임아웃 (Connection Timeout)                         | 리드 타임아웃 (Read Timeout)                                 |
| -------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| **정의** | 서버와 연결을 시도할 때, 연결이 이루어지지 않으면 발생하는 타임아웃 | 연결된 후 데이터를 읽기 시작하고 응답을 받지 못하면 발생하는 타임아웃 |
| **시점** | 클라이언트와 서버 간의 연결을 시도할 때 설정                 | 연결 후, 데이터 전송 또는 응답을 받는 시간 동안 설정         |
| **목적** | 서버와의 연결을 맺는 데 걸리는 시간 제한 설정                | 서버로부터 데이터가 전달되는 데 걸리는 시간 제한 설정        |
| **예시** | 서버가 너무 느리거나 네트워크 장애로 인해 연결이 되지 않으면 발생 | 서버가 응답을 보내는 데 너무 오래 걸리면 발생                |

 

## 쿠키와 세션

| --       | 쿠키                                                         | 세션                                                         |
| -------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 설명     | 브라우저에 저장할 수 있는 key-value형식의 텍스트데이터       | 브라우저의 상태를 기록하기 위한 서버측 데이터                |
| 동작방식 | 서버가 응답헤더로 브라우저에 설정 `set-cookie`               | 서버측 : 메모리(세션스코프), 데이터베이스<br> 브라우저측 : 세션ID를 담는 쿠키 |
| 크기     | 최대 4KB 설정가능함                                          | DB를 사용하면 많은 수를 담을 수 있음                         |
| 활용예   | 장바구니, 사용자 행동분석                                    | 로그인                                                       |
| 옵션     | secure (https로만 쿠키 주고받기가능)<br>httpOnly(공격자가 javascript로 XSS 탈취불가능하게 만듬)<br>samesite(CSRF공격방지) |                                                              |





## SQL Injection 공격, 방어방법

악의적인 SQL 구문을 입력하여 데이터베이스를 조작하거나 민감한 데이터를 탈취하는 기법

### 공격기법

- **인증 우회**: 로그인 입력 필드에 `OR '1'='1'` 같은 구문을 넣어 조건문을 참으로 만들어 비정상적인 접근을 허용합니다.
- **데이터 유출**: `UNION SELECT` 구문을 사용하여 테이블의 데이터를 추출합니다.
- **데이터 변경**: 데이터베이스에 `UPDATE`, `DELETE` 등의 명령을 삽입하여 데이터를 수정하거나 삭제합니다.
- **블라인드 SQL Injection**: 참 또는 거짓을 확인하는 질의를 반복하여 데이터베이스 구조와 내용을 유추합니다.

### 방어방법

- **Prepared Statements** 
- **ORM (객체 관계 매핑) 사용**
- **웹 애플리케이션 방화벽 (WAF)**



## REST란 Restful API란 , REST 제약 조건

**REST는 자원을 URL로 표현하고, HTTP 프로토콜을 통해 자원의 상태를 전송하거나 조작할 수 있도록 한 구조**

| 제약조건 | 설명                                                         | 예시               |
| -------- | ------------------------------------------------------------ | ------------------ |
| 표현     | 자원의 상태를 표현                                           | JSON, XML          |
| 식별     | 고유한 자원을 식별하는 것                                    | URL                |
| 지시     | HTTP 메서드를 통한 자원에 대한 action                        |                    |
| 무상태성 | 각 요청은 독립적임, 이전 요청의 정보를 서버는 기억하지 않음  |                    |
| 계층구조 | 서버와 직접 통신할 수도, 서버 앞단에서 중간서버를 거칠 수도있음 | 프록시, 로드밸런서 |



## 프록시 서버

**포워드 프록시 (클라이언트 측 대리인)**

클라이언트의 요청을 대신 외부서버로 전달.

요청을 대리해준다. 외부서버에 직접접근을 막아준다. 클라이언트의 보안을 강화해준다

요청을 중간에서 차단해줄 수 도 있다(기업이나 학교에서 활용)

**리버스 프록시 (서버측 대리인)**

클라이언트의 요청을 대신 받아서 백엔드 서버에 전달하고, 서버의 응답을 다시 클라이언트에 전달하는 `서버측`  `중간 서버`

- 로드밸런싱
- 보안향상 (리버스 프록시로 해커의 공격으로 부터 서버의 노출을 최소화할 수 있음) 
- 캐싱 및 속도 최적화
- SSL종료 (SSL인증서를 리버스프록시가 직접 처리하므로 서버에 보안연결에 대한 부담을 덜어 낼 수 있음)



## SOP(same origin policy) 와 CORS (cross origin resource sharing)

- `SOP` : 다른 출처간에는 리소스를 공유하지 못하게 하는 정책
  - API JSON  으로 응답받은 리소스를 읽을 수 조차없다.
  - POPUP HTML, Iframe HTML  으로 응답받은 리소스를 읽을 순 있어도 상위 document가 접근할 수 없다
- `CORS` : 위 정책으로 막혀있는 리소스 공유를 허용하게끔 만드는 서버측 응답헤더 설정

브라우저는 `Prefilght` 요청을 보내 Origin과 Access-Control-Allow-Origin 이 일치하는지 확인한다.

## CSRF 공격, 방어방법

- 쿠키가 요청시 자동으로 요청에 담겨 보내지는 방식을 악용하여, 사용자가 cross-site에 진입했을 떄
- 위변조된 요청을 보내는 공격법

## XSS (cross site scripting) 공격, 방어방법

- 악의적인 스크립트를 삽입하는 공격법

  - 피싱싸이트로 리다이렉트됨
  - 사용자의 쿠키를 탈취하여 세션 하이재킹을 가능하게 함

- ```html
  <script>location.href="http://해커의싸이트.com"</script>
  ```

- **방어방법**

  - `<` 를 `&lt` 로 변경
  - `>` 를 `&gt` 로 변경 
  - 쿠키를 탈취못하게 쿠키속성에 `HttpOnly`속성부여
    - 자바스크립트가 쿠키를 조회하는 것을 방지해줌



## JWT 토큰



## URL, URI, URN 차이가 뭘까요?

- URI 
  - 웹상의 리소스나 데이터를 유일하게 식별할 수 있는 형식
  - 예)
    - URL (위치이용)
    - URN (별칭이용)

## L7 로드 밸런서

- HTTP, HTTPS와 같은 애플리케이션 레벨의 요청을 기반으로 트래픽을 분배
- HTTP 헤더, URL, 쿠키, 파라미터 등 요청 내용을 기반으로 트래픽을 정교하게 분배
- 세션 지속성(스티키 세션)을 통해 사용자의 모든 요청이 특정 서버에 지속적으로 전달될 수 있도록 설정 
- SSL 종료 기능을 제공하여 암호화된 HTTPS 요청을 해독하고, 해독된 요청을 내부 서버로 전달
- 트래픽을 정책이나 규칙에 따라 제어(특정 국가, 특정 시간대별)

## 웹 캐시

- **중간 저장소**에 임시로 저장하여 **반복 요청 시 더 빠르게 제공**
- ex) 브라우저캐시, 프록시, CDN
- 프록시 vs CDN

| --      | 프록시                           | CDN                                          |
| ------- | -------------------------------- | -------------------------------------------- |
| 사용 예 | 내가 자주 요청하는 컨텐츠를 캐시 | 넷플릭스의 컨텐츠를 전세계 거점에 캐싱해놓음 |
| 위치    | 기업내부 네트워크, ISP           | 전 세계 각지의 여러 서버                     |
| 대상    | 로컬 네트워크 사용자             | 전 세계 사용자                               |



