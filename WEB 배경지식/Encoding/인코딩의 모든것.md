# 개요

- 한글 인코딩 체계가 수립되기까지는 수십 년의 세월이 걸림
- 한 번 날 잡아서 정리함



# 문자집합(CharacterSet,  charset)  과 인코딩

## 0.  ASCII 문자코드 (1byte 초창기 8bit)

| 문자종류                        | ASCII코드 값 범위(1Byte 크기로 표현 가능) | C언어 ('A')  -  1byte |
| ------------------------------- | ----------------------------------------- | --------------------- |
| ASCII코드(특수기호, 숫자, 영문) | 00000000 ~ 01111111   (0 ~ 127)           | 0**1000001**          |







## 1. 유니코드 문자집합(ASCII 문자 이외의 문자 요구로 인해  31bit)

| 유니코드 문자종류                                            | 유니코드 값 범위(1byte ~ 31bit 문자집합)                     | 인코딩한 값의 크기                   | 소속평명                                                     |
| ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------ | ------------------------------------------------------------ |
| ASCII 에 대응하는 문자(1byte 내)                             | 0 ~ 127<br/>b00000000   ~   b01111111<br>U+0000  ~  U+00**7F** | 1byte                                | 기본다국어평면(BMP)                                          |
| 1byte내 ~ 2바이트 미만<br>                                   | 128~2,047<br/>b00000000   10000000   ~   b00000111   11111111<br>U+00**80**  ~  U+0**7FF** | 2byte                                | 기본다국어평면(BMP)                                          |
| 2바이트내 ~ 3바이트 미만<br>**21bit 이내로 모든 문자표현가능** | 2,048~65,535<br>b00001000   00000000   ~   b11111111     11111111<br>U+0**800**  ~  U+**FFFF** | 3byte                                | 기본다국어평면(BMP)<br>U+1100~U+11FF : 한글 자모 <br>U+AC00~U+D7AF: 한글 소리 |
| 3바이트 내 ~ 3바이트 내                                      | b0000001   00000000    00000000   ~   b00000001   11111111   11111111  <br>U+010000 ~ U+01FFFF | 4byte<br>**(거의 사용되지 않는다.)** | 보충다국어평면(SMP)                                          |
| ~ 31bit                                                      |                                                              |                                      |                                                              |



## 2. 유니코드를 이용한 UTF8 인코딩

- 설계원칙

  - 1바이트로 표시된 문자의 최상위 비트는 항상 0이다.

  - 2바이트 이상으로 표시된 문자의 경우, 첫 바이트의 상위 비트들이 그 문자를 표시하는 데 필요한 바이트 수를 결정한다. 

    예를 들어서 2바이트는 110으로 시작하고, 3바이트는 1110으로 시작한다.

  - 첫 바이트가 아닌 나머지 바이트들은 상위 2비트가 항상 10이다.
  
- 자바

  - Char a = '나';
    - 유니코드 값(즉, 코드포인트)을 저장. 따라서 항상 무조건 2byte
  - String a = "나";
    - 유니코드값이 아닌 유니코드를 UTF-8로 인코딩한 결과값을 저장
    - 따라서 한글문자 하나당 3byte를 차지
  - String a = "다나가";
    - 3byte * 3 = 9byte
  - String a = "abc";
    - 1byte * 3 = 3byte

| 문자종류                   | 문자값                                                   | 유니코드 값(= 코드포인트) ,진법에 따른 값                    | UTF8 인코딩값(1~6 Byte)                                      | URL 인코딩값                   | 자바<br>String 자료형   |
| -------------------------- | -------------------------------------------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------ | ----------------------- |
| 특수기호<br>ASCII 코드 내  | ' **!** '                                                | 33 <br/>b00000000 0xxxxxxx   <br/>b00000000  00100001 <br>0x0021<br/>**U+0021**(코드포인트)<br>\u0021(또 다른 표기) | b0xxxxxxx<br/>b**0**0100001<br>**0x 00 21**<br>인코딩 값: b**0**0100001 | %21                            | **0**0100001            |
| 특수기호<br>ASCII 코드 내  | !이외의 ", #, $, %, & 등의 특수기호                      | 위와 같은방식                                                | 위와 같은방식                                                | 위와 같은방식                  | 위와 같은방식           |
| 알파벳                     | 'A'                                                      | 65 <br/>b00000000 0xxxxxxx<br>b00000000 01000001 <br/>0x0041<br/>**U+0041**<br/> | b0xxxxxxx<br>b**0**1000001<br/>**0x 00 41**<br/><br/>인코딩 값: b**0**1000001 | A<br>인코딩안함, 문자값 그대로 | 위와 같은방식           |
| 알파벳, 숫자문자 등등      | A이외의 B,C,,,a,b,,,0,1,2,,,**-**, **_** , **.** , **~** | 위와 동일                                                    | 위와 동일                                                    | 인코딩안함, 문자값 그대로      | 위와 같은방식           |
|                            | '𝝿'                                                      | 960<br/>b00000xxx  xxxxxxxx<br>b00000**011** **11000000**<br>0x03C0<br>**U+03C0** | <br>b110xxxxx   10xxxxxx<br>b110**01111**  10**000000**<br>**0x CF 80**<br><br>인코딩 값: <br>b11001111 10000000 | %CF%80                         | 11001111   10000000     |
| 한글<br>U+AC00 ~<br>U+D7AF | '나'                                                     | 45208<br>bxxxxxxxx  xxxxxxxx<br>b10110000 10011000 0xB098<br>**U+B098** | <br>b1110xxxx  10xxxxxx  10xxxxxx <br>b**1110**1011 **10**000010 **10**011000 <br>**0x EB 82 98**<br><br/>인코딩 값: <br>b**1110**1011 **10**000010 **10**011000 | %EB%82%98                      | **문자열 한글은 3byte** |
| 이후 생략                  | 겁나많음                                                 |                                                              |                                                              |                                |                         |



## 3. 참고자료

- 아스키코드 표        https://ko.wikipedia.org/wiki/ASCII
- 유니코드 문자집합 https://en.wikibooks.org/wiki/Unicode/Character_reference/A000-AFFF
  - 한글은 하단 **"Hangul Syllables"** 표 참고
  - U+AC00  
  - U+AC01
  - U+AC02
  - .........(이하 생략)
  -  U+D7AF









