# 1장 HTTP 개관

## 1.1. HTTP

- **정의**

  HTML과 같은 하이퍼미디어 문서를 전송하기위한 애플리케이션 레이어 프로토콜

- **특징**

  신뢰성 있는 데이터 전송

- **예시**

  - 이미지, HTML페이지, TEXT파일, 동영상, 음성파일, 자바애플릿(웹에서 구동되는 작은 프로그램)

## 1.2. 클라이언트 - 서버

생략

## 1.3. 리소스

크게 두가지 종류로 분류.

- **파일 시스템의 정적파일**
  - 이미지, HTML페이지, TEXT파일, 동영상, 음성파일
- **콘텐츠 생산 프로그램**
  - 웹어플리케이션, 라이브영상, 주식거래정보, 결제
  - 시간, 요청정보에 따라 가변하는 가공되는 응답데이터

### 1.3.1. 미디어 타입(MIME)

- **M**ultipurpose **I**nternet **M**ail **E**xtensions
- 어떤 데이터 포멧(종류)인지 밝히는 정보
- 서로 다르게 개발된 메일시스템간 정보교류를 위해 개발된 기술이 웹에서 차용됨.
- **미디어 타입종류 (수백 가지)**
  - **text**
    - tex/html
    - text/plain (ASCII)
  - **image**
    - image/jpeg
    - image/gif
  - **video/quicktime**
  - **application/vnd.ms-powerpoint**

### 1.3.2. URI

- **위에서 언급한 수백 가지의 리소스 각각을 구별하기 위한 개념**
- 구별방법은 두 가지가 있다.

1. **URL(리소스 위치기반)**

> 리소스가 파일시스템상 위치한 경로 + 파일명으로 구별을 한다.

2. URN(리소스 별명기반)

> 특징1) 리소스에 별칭을 준다.
>
> 특징2) 위치독립적. 위치무관
>
> ​			따라서, 위치를 여기저기 옮겨다녀도 문제없이 동작
>
> ​			현대의 대부분 어플리케이션에서는 사용하지 X

## 1.4. 트랜잭션

- 트랜잭션 = 요청 + 응답
- 요청과 응답은 뗄 수 없는 하나의 트랜잭션
- 요청과 응답은 공통적으로 `HTTP 메세지`를 사용

### 1.4.1 메서드

- 서버에게 '여러 동작'중 하나를 지시

- 여러동작 리스트 <a href="https://javaplant.tistory.com/18">링크</a>
  
  | method | 설명                                                  | 개발시 |
  | ------ | ----------------------------------------------------- | ------ |
  | GET    |                                                       |        |
  | PUT    | 요청데이터를 지정한 이름의 리소스로 저장하라.         | UPDATE |
  | DELETE |                                                       |        |
  | POST   | 요청데이터를 서버 게이트웨이 애플리케이션으로 보내라. | CREATE |
  | PATCH  |                                                       | UPDATE |
  | HEAD   | 본문빼고 (응답헤더만 응답받고싶다.)                   |        |
  
   

### 1.4.2. 상태 코드

| HTTP상태코드 | 사유구절(개발자 재량) | 비고 |
| ------------ | --------------------- | ---- |
| 200          | OK, Success 등등      |      |
| 302          | redirect              |      |
| 404          | not found             |      |

### 1.4.3. 웹페이지는 여러 객체로 이뤄어질 수 있다.

- 1회 요청으로 모든 리소스를 다 갖춰서 한 번에 응답하는 것이 아님
- 1회 요청으로 껍데기가 되는 프레임만 1차적으로 가져온 뒤
- 자바스크립트를 통해 추가적인 여러 리소스 요청을 보내 프레임의 구성요소들을 채움



## 1.5. 메세지

- **요청, 응답메세지 공통**
  - 아래 각 요소에 대해 '요청' 혹은 '응답' 이라는 단어를 접두사로 붙인다.

> (시작줄) 
>
> (헤더) 키1 : 값1
>
> ​           키2 : 값2
>
> ​			.......
>
> ​           [빈 줄]
>
> (본문)

- (시작줄)
  - 요청 시: 무엇을 할 건가 서버에게 전달 (method 지정)
  - 응답 시: 무슨일이 일어났나 응답코드(200, 302, 404 등등)
- (헤더)
  - key - value
  - 마지막에 [빈 줄]
- (본문)
  - 어떤 종류의 데이터든 가능
  - 임의의 이진 데이터를 포함(이미지, 비디오, 오디오 트랙, 응용 소프트웨어)
  - 요청에도 본문이 있음  <a href="https://developer.mozilla.org/ko/docs/Web/HTTP/Messages">링크</a>

## 1.6. TCP커넥션

### 1.6.1  TCP/IP

| 계층 | 프로토콜                   | 계층명          |
| ---- | -------------------------- | --------------- |
| 상위 | HTTP                       | 애플리케이션    |
| \|   | TCP                        | 전송            |
| \|   | IP                         | 네트워크        |
| \|   | 네트워크를 위한 인터페이스 | 데이터링크 게층 |
| 하위 | 물리적 네트워크 하드웨어   | 물리계층        |

### 1.6.2. 통신순서

- TCP 커넥션 (연결)  : 클라이언트 - 서버 간의
- 요청
- 응답
- 커넥션 close



## 1.8 웹 구성요소

| 종류       | 설명                                | 특징                           |
| ---------- | ----------------------------------- | ------------------------------ |
| Proxy      | 클라이언트 - 서버 사이의 HTTP중개자 | **보안**, 웹통합, 성능 최적화  |
| 캐시       | 요청 빈도수가 높은 리소스 저장소    | CDN에서 사용                   |
| 게이트웨이 | 프로토콜이 다른 시스템과의 연결다리 |                                |
| 터널       | 단순 HTTP통신만 전달하는 proxy      | 비HTTP데이터를 HTTP연결로 전송 |
| 에이전트   | 그 외 것들                          | 구글 웹페이지 써치봇, 스파이더 |













